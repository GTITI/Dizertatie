(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,n){},59:function(e,t,n){e.exports=n(92)},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(46),i=n.n(o),s=n(7),c=n(37),u=n(3),l=n(56),m=n(52),d=n(101);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=n(15),f=n(16),v=n(18),g=n(17),b=n(19),y=n(102),h=n(100),E=n(99),O=n(103),S=n(22),w=(n(72),function(e){var t=e.children,n=e.className,r=e.type,o=void 0===r?"button":r,i=Object(S.a)(e,["children","className","type"]);return a.a.createElement("button",Object.assign({className:"".concat(n," Button_unobtrusive"),type:o},i),t)}),N=function(e){var t=e.children,n=e.className,r=e.color,o=void 0===r?"black":r,i=e.type,s=void 0===i?"button":i,c=Object(S.a)(e,["children","className","color","type"]);return a.a.createElement("button",Object.assign({className:"".concat(n," Button Button_").concat(o),type:s},c),t)},j=(n(73),function(e){var t=e.children,n=e.color,r=void 0===n?"black":n,o=Object(S.a)(e,["children","color"]);return a.a.createElement("input",Object.assign({className:"Input Input_".concat(r)},o),t)}),C=(n(74),function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).state={value:n.props.organizationName},n.onChange=function(e){n.setState({value:e.target.value})},n.onSubmit=function(e){n.props.onOrganizationSearch(n.state.value||"moduscreateorg"),e.preventDefault()},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state.value;return a.a.createElement("div",{className:"Navigation-search"},a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(j,{color:"white",type:"text",value:e,onChange:this.onChange})," ",a.a.createElement(N,{color:"white",type:"submit"},"Search")))}}]),t}(a.a.Component)),I=Object(O.a)(function(e){var t=e.location.pathname,n=e.organizationName,r=e.onOrganizationSearch;return a.a.createElement("header",{className:"Navigation"},a.a.createElement("div",{className:"Navigation-link"},a.a.createElement(E.a,{to:"/profile"},"Profile")),a.a.createElement("div",{className:"Navigation-link"},a.a.createElement(E.a,{to:"/"},"Organization")),"/"===t&&a.a.createElement(C,{organizationName:n,onOrganizationSearch:r}))}),M=n(9),k=n(10),$=n.n(k),R=n(14),z=n(23),L=n(6);function _(){var e=Object(M.a)(["\n  fragment repository on Repository {\n    id\n    name\n    url\n    descriptionHTML\n    primaryLanguage {\n      name\n    }\n    owner {\n      login\n      url\n    }\n    stargazers {\n      totalCount\n    }\n    viewerHasStarred\n    watchers {\n      totalCount\n    }\n    viewerSubscription\n  }\n"]);return _=function(){return e},e}var H=$()(_()),A=function(e){var t=e.children,n=Object(S.a)(e,["children"]);return a.a.createElement("a",Object.assign({},n,{target:"_blank",rel:"noopener noreferrer"}),t)};n(44);function P(){var e=Object(M.a)(["\n  mutation($id: ID!, $viewerSubscription: SubscriptionState!) {\n    updateSubscription(\n      input: { state: $viewerSubscription, subscribableId: $id }\n    ) {\n      subscribable {\n        id\n        viewerSubscription\n      }\n    }\n  }\n"]);return P=function(){return e},e}function T(){var e=Object(M.a)(["\n  mutation($id: ID!) {\n    removeStar(input: { starrableId: $id }) {\n      starrable {\n        id\n        viewerHasStarred\n      }\n    }\n  }\n"]);return T=function(){return e},e}function x(){var e=Object(M.a)(["\n  mutation($id: ID!) {\n    addStar(input: { starrableId: $id }) {\n      starrable {\n        id\n        viewerHasStarred\n      }\n    }\n  }\n"]);return x=function(){return e},e}var q=$()(x()),B=$()(T()),D=$()(P()),Q="SUBSCRIBED",F="UNSUBSCRIBED",U=function(e){return e===Q},W=function(e,t){var n=t.data.updateSubscription.subscribable,r=n.id,a=n.viewerSubscription,o=e.readFragment({id:"Repository:".concat(r),fragment:H}),i=o.watchers.totalCount;i=a===Q?i+1:i-1,e.writeFragment({id:"Repository:".concat(r),fragment:H,data:Object(L.a)({},o,{watchers:Object(L.a)({},o.watchers,{totalCount:i})})})},G=function(e,t){var n=t.data.addStar.starrable,r=n.id,a=n.viewerHasStarred;return e.writeFragment({id:"Repository:".concat(r),fragment:H,data:Z(e,r,a)})},J=function(e,t){var n=t.data.removeStar.starrable,r=n.id,a=n.viewerHasStarred;e.writeFragment({id:"Repository:".concat(r),fragment:H,data:Z(e,r,a)})},Z=function(e,t,n){var r=e.readFragment({id:"Repository:".concat(t),fragment:H}),a=r.stargazers.totalCount;return a=n?a+1:a-1,Object(L.a)({},r,{stargazers:Object(L.a)({},r.stargazers,{totalCount:a})})},Y=function(e){var t=e.id,n=e.name,r=e.url,o=e.descriptionHTML,i=e.primaryLanguage,c=e.owner,u=e.stargazers,l=e.watchers,m=e.viewerSubscription,d=e.viewerHasStarred;return a.a.createElement("div",null,a.a.createElement("div",{className:"RepositoryItem-title"},a.a.createElement("h2",null,a.a.createElement(A,{href:r},n)),a.a.createElement("div",null,a.a.createElement(s.Mutation,{mutation:D,variables:{id:t,viewerSubscription:U(m)?F:Q},optimisticResponse:{updateSubscription:{__typename:"Mutation",subscribable:{__typename:"Repository",id:t,viewerSubscription:U(m)?F:Q}}},update:W},function(e,t){return t.data,t.loading,t.error,a.a.createElement(N,{className:"RepositoryItem-title-action","data-test-id":"updateSubscription",onClick:e},l.totalCount," ",U(m)?"Unwatch":"Watch")}),d?a.a.createElement(s.Mutation,{mutation:B,variables:{id:t},optimisticResponse:{removeStar:{__typename:"Mutation",starrable:{__typename:"Repository",id:t,viewerHasStarred:!d}}},update:J},function(e,t){return t.data,t.loading,t.error,a.a.createElement(N,{className:"RepositoryItem-title-action",onClick:e},u.totalCount," Unstar")}):a.a.createElement(s.Mutation,{mutation:q,variables:{id:t},optimisticResponse:{addStar:{__typename:"Mutation",starrable:{__typename:"Repository",id:t,viewerHasStarred:!d}}},update:G},function(e,t){return t.data,t.loading,t.error,a.a.createElement(N,{className:"RepositoryItem-title-action",onClick:e},u.totalCount," Star")}))),a.a.createElement("div",{className:"RepositoryItem-description"},a.a.createElement("div",{className:"RepositoryItem-description-info",dangerouslySetInnerHTML:{__html:o}}),a.a.createElement("div",{className:"RepositoryItem-description-details"},a.a.createElement("div",null,i&&a.a.createElement("span",null,"Language: ",i.name)),a.a.createElement("div",null,c&&a.a.createElement("span",null,"Owner: ",a.a.createElement("a",{href:c.url},c.login))))))},K=n(34);function V(){var e=Object(M.a)(["\n  query(\n    $repositoryOwner: String!\n    $repositoryName: String!\n    $issueState: IssueState!\n    $cursor: String\n  ) {\n    repository(name: $repositoryName, owner: $repositoryOwner) {\n      issues(first: 5, states: [$issueState], after: $cursor) {\n        edges {\n          node {\n            id\n            number\n            state\n            title\n            url\n            bodyHTML\n          }\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n"]);return V=function(){return e},e}var X=$()(V());function ee(){var e=Object(M.a)(["\n  query(\n    $repositoryOwner: String!\n    $repositoryName: String!\n    $number: Int!\n    $cursor: String\n  ) {\n    repository(name: $repositoryName, owner: $repositoryOwner) {\n      issue(number: $number) {\n        id\n        comments(first: 1, after: $cursor) {\n          edges {\n            node {\n              id\n              bodyHTML\n              author {\n                login\n              }\n            }\n          }\n          pageInfo {\n            endCursor\n            hasNextPage\n          }\n        }\n      }\n    }\n  }\n"]);return ee=function(){return e},e}var te=$()(ee()),ne=(n(76),function(e){var t=e.comment;return a.a.createElement("div",{className:"CommentItem"},a.a.createElement("div",null,t.author.login,":"),"\xa0",a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.bodyHTML}}))});function re(){var e=Object(M.a)(["\n  mutation($subjectId: ID!, $body: String!) {\n    addComment(input: { subjectId: $subjectId, body: $body }) {\n      commentEdge {\n        node {\n          body\n        }\n      }\n    }\n  }\n"]);return re=function(){return e},e}var ae,oe,ie=$()(re()),se=(n(77),function(e){var t=e.children,n=Object(S.a)(e,["children"]);return a.a.createElement("textarea",Object.assign({className:"TextArea"},n),t)}),ce=(n(78),function(e){var t=e.error;return a.a.createElement("div",{className:"ErrorMessage"},a.a.createElement("small",null,t.toString()))}),ue=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).state={value:""},n.onChange=function(e){n.setState({value:e})},n.onSubmit=function(e,t){t().then(function(){return n.setState({value:""})}),e.preventDefault()},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.issueId,n=this.state.value;return a.a.createElement(s.Mutation,{mutation:ie,variables:{body:n,subjectId:t}},function(t,r){r.data,r.loading;var o=r.error;return a.a.createElement("div",null,o&&a.a.createElement(ce,{error:o}),a.a.createElement("form",{onSubmit:function(n){return e.onSubmit(n,t)}},a.a.createElement(se,{value:n,onChange:function(t){return e.onChange(t.target.value)},placeholder:"Leave a comment"}),a.a.createElement(N,{type:"submit"},"Comment")))})}}]),t}(r.Component),le=(n(79),function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).state={dots:0},n.onTick=function(){n.setState(function(e){return{dots:(e.dots+1)%4}})},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.onTick,500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props.isCenter,t=this.state.dots,n=["Loading"];return e&&n.push("Loading_center"),a.a.createElement("div",{className:n.join(" ")},a.a.createElement("small",null,"Loading ",new Array(t).fill(0).map(function(e){return"."})))}}]),t}(r.Component)),me=(n(80),function(e){var t=e.loading,n=e.hasNextPage,r=e.variables,o=e.updateQuery,i=e.fetchMore,s=e.children;return a.a.createElement("div",{className:"FetchMore"},t?a.a.createElement(le,null):n&&a.a.createElement(w,{className:"FetchMore-button",onClick:function(){return i({variables:r,updateQuery:o})}},"More ",s))}),de=(n(81),function(e,t){var n=t.fetchMoreResult;return n?Object(L.a)({},e,{repository:Object(L.a)({},e.repository,{issue:Object(L.a)({},e.repository.issue,n.repository.issue,{comments:Object(L.a)({},e.repository.issue.comments,n.repository.issue.comments,{edges:[].concat(Object(z.a)(e.repository.issue.comments.edges),Object(z.a)(n.repository.issue.comments.edges))})})})}):e}),pe=function(e){var t=e.comments,n=e.loading,r=e.repositoryOwner,o=e.repositoryName,i=e.number,s=e.fetchMore;return a.a.createElement("div",{className:"CommentList"},t.edges.map(function(e){var t=e.node;return a.a.createElement(ne,{key:t.id,comment:t})}),a.a.createElement(me,{loading:n,hasNextPage:t.pageInfo.hasNextPage,variables:{cursor:t.pageInfo.endCursor,repositoryOwner:r,repositoryName:o,number:i},updateQuery:de,fetchMore:s},"Comments"))},fe=function(e){var t=e.repositoryOwner,n=e.repositoryName,o=e.issue;return a.a.createElement(s.Query,{query:te,variables:{repositoryOwner:t,repositoryName:n,number:o.number},notifyOnNetworkStatusChange:!0},function(e){var i=e.data,s=e.loading,c=e.error,u=e.fetchMore;if(c)return a.a.createElement(ce,{error:c});var l=i.repository;return s&&!l?a.a.createElement(le,null):a.a.createElement(r.Fragment,null,a.a.createElement(pe,{comments:l.issue.comments,loading:s,number:o.number,repositoryOwner:t,repositoryName:n,fetchMore:u}),a.a.createElement(ue,{issueId:l.issue.id}))})},ve=(n(82),Object(K.a)("isShowComments","onShowComments",!1)(function(e){var t=e.issue,n=e.repositoryOwner,r=e.repositoryName,o=e.isShowComments,i=e.onShowComments;return a.a.createElement("div",{className:"IssueItem"},a.a.createElement(N,{onClick:function(){return i(!o)}},o?"-":"+"),a.a.createElement("div",{className:"IssueItem-content"},a.a.createElement("h3",null,a.a.createElement(A,{href:t.url},t.title)),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.bodyHTML}}),o&&a.a.createElement(fe,{repositoryOwner:n,repositoryName:r,issue:t})))})),ge=(n(83),"NONE"),be="OPEN",ye="CLOSED",he=(ae={},Object(R.a)(ae,ge,"Show Open Issues"),Object(R.a)(ae,be,"Show Closed Issues"),Object(R.a)(ae,ye,"Hide Issues"),ae),Ee=(oe={},Object(R.a)(oe,ge,be),Object(R.a)(oe,be,ye),Object(R.a)(oe,ye,ge),oe),Oe=function(e){return e!==ge},Se=function(e,t){var n=t.fetchMoreResult;return n?Object(L.a)({},e,{repository:Object(L.a)({},e.repository,{issues:Object(L.a)({},e.repository.issues,n.repository.issues,{edges:[].concat(Object(z.a)(e.repository.issues.edges),Object(z.a)(n.repository.issues.edges))})})}):e},we=function(e){var t=e.repositoryOwner,n=e.repositoryName,r=e.issueState,o=e.onChangeIssueState;return a.a.createElement(s.ApolloConsumer,null,function(e){return a.a.createElement(w,{onClick:function(){return o(Ee[r])},onMouseOver:function(){return function(e,t,n,r){var a=Ee[r];Oe(a)&&e.query({query:X,variables:{repositoryOwner:t,repositoryName:n,issueState:a}})}(e,t,n,r)}},he[r])})},Ne=function(e){var t=e.issues,n=e.loading,r=e.repositoryOwner,o=e.repositoryName,i=e.issueState,s=e.fetchMore;return a.a.createElement("div",{className:"IssueList"},t.edges.map(function(e){var t=e.node;return a.a.createElement(ve,{key:t.id,issue:t,repositoryOwner:r,repositoryName:o})}),a.a.createElement(me,{loading:n,hasNextPage:t.pageInfo.hasNextPage,variables:{cursor:t.pageInfo.endCursor,repositoryOwner:r,repositoryName:o,issueState:i},updateQuery:Se,fetchMore:s},"Issues"))},je=Object(K.a)("issueState","onChangeIssueState",ge)(function(e){var t=e.repositoryOwner,n=e.repositoryName,r=e.issueState,o=e.onChangeIssueState;return a.a.createElement("div",{className:"Issues"},a.a.createElement(we,{repositoryOwner:t,repositoryName:n,issueState:r,onChangeIssueState:o}),Oe(r)&&a.a.createElement(s.Query,{query:X,variables:{repositoryOwner:t,repositoryName:n,issueState:r},notifyOnNetworkStatusChange:!0},function(e){var o=e.data,i=e.loading,s=e.error,c=e.fetchMore;if(s)return a.a.createElement(ce,{error:s});var u=o.repository;return i&&!u?a.a.createElement(le,null):u.issues.edges.length?a.a.createElement(Ne,{issues:u.issues,loading:i,repositoryOwner:t,repositoryName:n,issueState:r,fetchMore:c}):a.a.createElement("div",{className:"IssueList"},"No issues ...")}))}),Ce=function(e){return function(t,n){var r=n.fetchMoreResult;return r?Object(L.a)({},t,Object(R.a)({},e,Object(L.a)({},t[e],{repositories:Object(L.a)({},t[e].repositories,r[e].repositories,{edges:[].concat(Object(z.a)(t[e].repositories.edges),Object(z.a)(r[e].repositories.edges))})}))):t}},Ie=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).handleOnScroll=function(){var e=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement&&document.documentElement.scrollHeight||document.body.scrollHeight,r=document.documentElement.clientHeight||window.innerHeight,a=Math.ceil(e+r)>=t,o={cursor:n.props.repositories.pageInfo.endCursor},i=n.props,s=i.fetchMore,c=i.entry,u=i.repositories;a&&u.pageInfo.hasNextPage&&s({variables:o,updateQuery:Ce(c)})},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleOnScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleOnScroll)}},{key:"render",value:function(){return a.a.createElement("div",null,this.props.repositories.edges.map(function(e){var t=e.node;return a.a.createElement("div",{key:t.id,className:"RepositoryItem"},a.a.createElement(Y,t),a.a.createElement(je,{repositoryName:t.name,repositoryOwner:t.owner.login}))}))}}]),t}(a.a.PureComponent);function Me(){var e=Object(M.a)(["\n  query($cursor: String) {\n    viewer {\n      repositories(\n        first: 7\n        orderBy: { direction: DESC, field: STARGAZERS }\n        after: $cursor\n      ) {\n        edges {\n          node {\n            ...repository\n          }\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  }\n\n  ","\n"]);return Me=function(){return e},e}var ke=$()(Me(),H),$e=function(){return a.a.createElement(s.Query,{query:ke,notifyOnNetworkStatusChange:!0},function(e){var t=e.data,n=e.loading,r=e.error,o=e.fetchMore,i=t.viewer;return n&&!i?a.a.createElement(le,{isCenter:!0}):r?a.a.createElement(ce,{error:r}):a.a.createElement(Ie,{loading:n,repositories:i.repositories,fetchMore:o,entry:"viewer"})})};function Re(){var e=Object(M.a)(["\n  query($organizationName: String!, $cursor: String) {\n    organization(login: $organizationName) {\n      repositories(first: 7, after: $cursor, orderBy: { direction: ASC, field: STARGAZERS}) {\n        edges {\n          node {\n            ...repository\n          }\n        }\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n      }\n    }\n  search(query:$organizationName, type:REPOSITORY, first:20){  \n  repositoryCount\n  pageInfo{\n   endCursor\n   startCursor\n  }\n  edges{\n   node{\n    ... on Repository{\n     id\n     name\n     createdAt \n     description \n     isArchived\n     isPrivate\n    }\n   }\n  }\n }\n}\n  \n  ","\n"]);return Re=function(){return e},e}var ze=$()(Re(),H),Le=function(e){var t=e.organizationName;return a.a.createElement(s.Query,{query:ze,variables:{organizationName:t},skip:""===t,notifyOnNetworkStatusChange:!0},function(e){var t=e.data,n=e.loading,r=e.error,o=e.fetchMore;if(r)return a.a.createElement(ce,{error:r});console.log(t.search);var i=t.organization;return n&&!i?a.a.createElement(le,{isCenter:!0}):a.a.createElement(Ie,{loading:n,repositories:i.repositories,fetchMore:o,entry:"organization"})})},_e=(n(84),function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).state={organizationName:"moduscreateorg"},n.onOrganizationSearch=function(e){n.setState({organizationName:e})},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state.organizationName;return a.a.createElement(y.a,null,a.a.createElement("div",{className:"App"},a.a.createElement(I,{organizationName:e,onOrganizationSearch:this.onOrganizationSearch}),a.a.createElement("div",{className:"App-main"},a.a.createElement(h.a,{exact:!0,path:"/",component:function(){return a.a.createElement("div",{className:"App-content_large-header"},a.a.createElement(Le,{organizationName:e}))}}),a.a.createElement(h.a,{exact:!0,path:"/profile",component:function(){return a.a.createElement("div",{className:"App-content_small-header"},a.a.createElement($e,null))}}))))}}]),t}(r.Component)),He=(n(85),new l.a({uri:"https://api.github.com/graphql",headers:{authorization:"Bearer ".concat("3bc6ff1f13a1932d00a776fb1f5d2854b5eccd18")}})),Ae=Object(m.a)(function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map(function(e){var t=e.message,n=e.locations,r=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(r))}),n&&console.log("[Network error]: ".concat(n))}),Pe=u.a.from([Ae,He]),Te=new d.a,xe=new c.a({link:Pe,cache:Te});i.a.render(a.a.createElement(s.ApolloProvider,{client:xe},a.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[59,1,2]]]);
//# sourceMappingURL=main.e6fce866.chunk.js.map